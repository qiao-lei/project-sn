"use strict";$(function(){$("#wrap_foot").load("footer.html");var a=[{user:"aaaaa",pass:"aaaaa"},{user:"bbbbb",pass:"123123"}],e=/^[a-z0-9_-]{3,16}$/;$("#username").focus(function(){$("#errorname").text(""),e.test($(this).val())||$("#errorname").text("请输入以字母、数字、_开头的3到16位字符，不支持中文").css("color","#FF4400")}),$("#password").focus(function(){e.test($(this).val())||$("#errorpassword").text("请输入以字母、数字、_开头的5到16位字符，不支持中文").css("color","#FF4400")}),$("#username").focusout(function(){if(e.test($(this).val()))for(var t=0;t<a.length;t++){if(console.log($(this).val()==a[t].user),$(this).val()==a[t].user){$("#errorname").text("用户已存在！").css("color","red");break}$("#errorname").text(""),!0}else!1,$("#errorname").text("格式不正确！").css("color","red")}),$("#password").focusout(function(){e.test($(this).val())?($("#errorpassword").text(""),!0):(!1,$("#errorpassword").text("格式不正确！").css("color","red"))}),$("#tijao").click(function(){$.get("http://datainfo.duapp.com/shopdata/userinfo.php",{status:"register",userID:$("#username").val(),password:$("#password").val()},function(t){0==(t=JSON.parse(t))?$("#errorname").text("用户已存在！").css("color","red"):1==t?location.href="denglu.html":$("#zhucefm").hide().parent().append("<div><a href='zhuce.html'>注册失败，请重试！</a></div>").css({height:"100px",width:"990px","text-align":"center","font-size":"18px","line-height":"100px"})})}),$(".login_top a").eq(0).click(function(){$(this).addClass("checkon").siblings().removeClass("checkon"),$(".wx_dl").show(),$(".zh_dl").hide()}),$(".login_top a").eq(1).click(function(){$(this).addClass("checkon").siblings().removeClass("checkon"),$(".wx_dl").hide(),$(".zh_dl").show()}),$("#dlbtn").click(function(){$.get("http://datainfo.duapp.com/shopdata/userinfo.php",{status:"login",userID:$("#userdl").val(),password:$("#passworddl").val()},function(t){0==(t=JSON.parse(t))?$("#dlerrorname").text("此用户不存在！").css("color","red"):2==t?$("#dlerrorpassword").text("密码不对!").css("color","red"):($.cookie("username",t.userID,{expires:7,path:"/"}),location.href="index.html")})}),$("#userdl").focus(function(){$("#dlerrorname").text(""),$("#dlname label").css("background-position","-82px -67px").next().removeAttr("placeholder")}),$("#userdl").blur(function(){$("#dlname label").css("background-position","-123px -67px")}),$("#passworddl").focus(function(){$("#dlerrorpassword").text(""),$("#dlpassword label").css("background-position","-41px -67px").next().removeAttr("placeholder")}),$("#passworddl").blur(function(){$("#dlpassword label").css("background-position","0 -108px")}),$("#dl_wang a").eq(0).click(function(){$("#dlerrorname").text(""),$(this).hide().next().show(),$("#userdl").attr({placeholder:"手机号码"}),$("#passworddl").attr({placeholder:"短信验证码"}).parent().append("<a href='#'>获取验证码</a>")}),$("#dl_wang a").eq(1).click(function(){$("#dlerrorname").text(""),$(this).hide().prev().show(),$("#passworddl").parent().find("a").remove(),$("#userdl").attr({placeholder:"用户名/QQ/微信/易付宝"}),$("#passworddl").attr({placeholder:"密码"})})}),$(function(){var t=location.search.split("=")[1];$.getJSON("http://datainfo.duapp.com/shopdata/getGoods.php?callback=?",{goodsID:t},function(t){for(var a="",e=JSON.parse(t[0].imgsUrl),s=0;s<e.length;s++)a+='<img src="'+e[s]+'">';$(".bottom_pic").html(a),$(".min_pic").append('<img src="'+e[0]+'">'),$(".max_pic").append('<img src="'+e[0]+'">'),$(".xx_right").html('<p class="pname">'+t[0].goodsName+'</p><p class="pprice">￥'+t[0].price+"</p>").append('<div class="xx_shop">\n\t\t\t\t\t<span>购买数量</span>\n\t\t\t\t\t<div class="num_hid">\n\t\t\t\t\t\t<a href="#" class="addnum"></a>\n\t\t\t\t\t\t<input type="text" name="num_shop" id="num_shop" />\n\t\t\t\t\t\t<a href="#" class="downnum"></a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="num_show"></div>\n\t\t\t\t\t<a href="#">加入购物车</a>\n\t\t\t\t</div>'),$(".xx_shop>a").click(function(){console.log("aaaa"),$.get("http://datainfo.duapp.com/shopdata/updatecar.php",{userID:$.cookie("username"),goodsID:t[0].goodsID},function(t){0==t&&alert("添加失败！")})})}),$(".min_pic").mouseenter(function(){$(".min_kuai").show(),$(".max_pic").show()}),$(".min_pic").mouseleave(function(){$(".min_kuai").hide(),$(".max_pic").hide()}),$(".min_pic").mousemove(function(t){var a=t||event,e=a.pageX-$(".list_xx")[0].offsetLeft,s=a.pageY-$(".list_xx")[0].offsetTop,n=e-$(".min_kuai")[0].offsetWidth/2,o=s-$(".min_kuai")[0].offsetHeight/2,i=$(".min_pic")[0].offsetWidth-$(".min_kuai")[0].offsetWidth,p=$(".min_pic")[0].offsetHeight-$(".min_kuai")[0].offsetHeight;n<=0&&(n=0),o<=0&&(o=0),i<=n&&(n=i),p<=o&&(o=p),$(".min_kuai")[0].style.left=n+"px",$(".min_kuai")[0].style.top=o+"px",$(".max_pic>img")[0].style.left=2*-n+"px",$(".max_pic>img")[0].style.top=2*-o+"px"})}),$(function(){$("#wrap_foot").load("footer.html"),$(".hoverul").mouseover(function(){$(this).children().eq(1).show()}),$(".hoverul").mouseout(function(){$(this).children().eq(1).hide()}),$(".brimg1").mouseenter(function(){$(this).parent().parent().stop().animate({width:$(".brimg2").outerWidth()+$(this).outerWidth()},500)}),$(".ban_right").mouseleave(function(){$(this).stop().animate({width:$(".brimg1").outerWidth()},500)}),$(".soso_result>i").click(function(){$(this).parent().hide()}),$("#soname").focus(function(){$(".soso_result").show()}),$("#soname").blur(function(){$(".soso_result").hide()}),$("#soname").on("input",function(){$(".result").html(""),$.ajax({type:"get",url:"https://ds.suning.cn/ds/his/new/-"+$(this).val()+"-0-1_0-autoComplateCallback_184b31b125a59d8c382d3d8382d23350.jsonp",dataType:"jsonp",jsonpCallback:"autoComplateCallback_184b31b125a59d8c382d3d8382d23350",async:!0,success:function(t){for(var a=0;a<t.words.length;a++){var e=$("<li></li>");e.append(t.words[a].keyname),$(".result").append(e)}}})}),$.ajax({type:"get",url:"https://lib.suning.com/homepage/model/homepage1_326191_lazyload326191.json",dataType:"jsonp",jsonpCallback:"lazyload326191",async:!0,success:function(t){$(".product_wrap").append(t.data),$("img").each(function(){$(this).attr("src",$(this).attr("lazy-src"))})}}),$.ajax({type:"get",url:"https://lib.suning.com/homepage/model/homepage1_326445_lazyload326445.json",dataType:"jsonp",jsonpCallback:"lazyload326445",async:!0,success:function(t){$(".meiwei_wrap").append(t.data),$("img").each(function(){$(this).attr("src",$(this).attr("lazy-src"))})}}),$.ajax({type:"get",url:"https://lib.suning.com/homepage/model/homepage1_326446_lazyload326446.json",dataType:"jsonp",jsonpCallback:"lazyload326446",async:!0,success:function(t){$(".mm_wrap").append(t.data),$("img").each(function(){$(this).attr("src",$(this).attr("lazy-src"))})}}),$.ajax({type:"get",url:"https://lib.suning.com/api/jsonp/cb/sortList_v6-threeSortLoad.jsonp",async:!0,dataType:"jsonp",jsonpCallback:"threeSortLoad",success:function(t){for(var n=t.allsort.nodes,a=0;a<n.length;a++){for(var e=$("<li><i></i></li>"),s=0;s<n[a].nodes[0].tag.length;s++)e.append("<a href='#'>"+n[a].nodes[0].tag[s].elementName+"</a><em>|&nbsp;</em>");$(".list_list").append(e).find("em").last().remove()}$(".list_list>li>em").last().remove(),$(".list_list>li").mouseenter(function(){$(".list_detal").html("").stop().animate({width:"999px"},300);for(var t=$(this).index(),a=$("<div class='detal_title'></div"),e=0;e<n[t].nodes[1].tag.length;e++)a.append("<a href='#'>"+n[t].nodes[1].tag[e].elementName+"</a>");var s=$("<ul class='detal_con'></ul>");$.get("http://datainfo.duapp.com/shopdata/getclass.php",function(t){t=JSON.parse(t),console.log(t);var e="";$.each(t,function(t,a){e+='<li><a href="list.html?classID='+a.classID+'">'+a.className+"<a></li>"}),s.html(e)}),$(".list_detal").append(a).append(s)}),$(".list_detal").mouseleave(function(){$(this).stop().animate({width:0},300)})}});var n=$("<ul></ul>");function e(t){var a=$("<li></li>");a.css("background",t[0].tone).append("<a href='#'><img src='"+t[0].adSrc+"'/><a>");for(var e=1;e<t.length;e++){var s=$("<div><div></div></div>");s.append("<a href='#'><p class='img_name'>"+t[e].title+"</p><p class='img_desc'>"+t[e].subtitle+"</p><img src='"+t[e].adSrc+"'/></a>"),a.append(s)}a.children().last().addClass("little"),n.append(a)}$(".ban_con").append(n);!function(t){for(var a=0;a<t.length;a++)$.ajax({type:"get",url:t[a],async:!0,dataType:"jsonp",success:function(t){e(t),$(".ban_nav").append("<a href='#'></a>"),$(".ban_nav a").eq(0).addClass("current")}})}(["https://th.suning.com/getCpmDatasGroup?pid=300000005&pid=100003449&pid=100003450&screenType=w","https://th.suning.com/getCpmDatasGroup?pid=300000004&pid=100003446&pid=100003447&screenType=w","https://th.suning.com/getCpmDatasGroup?pid=300000006&pid=100003452&pid=100003453&screenType=w","https://th.suning.com/getCpmDatasGroup?pid=300000026&pid=100003455&pid=100003456&screenType=w","https://th.suning.com/getCpmDatasGroup?pid=300000007&pid=100003449&pid=100003450&screenType=w","https://th.suning.com/getCpmDatasGroup?pid=300000008&pid=100003446&pid=100003447&screenType=w","https://th.suning.com/getCpmDatasGroup?pid=300000003&pid=100003452&pid=100003453&screenType=w","https://th.suning.com/getCpmDatasGroup?pid=300000026&pid=100003455&pid=100003456&screenType=w"]);var t=0;function a(){++t==$(".ban_con ul>li").length&&(t=0),-1==t&&(t=$(".ban_con ul>li").length-1),$(".ban_con ul>li").hide().eq(t).show(),$(".ban_nav a").removeClass("current").eq(t).addClass("current")}var s=setInterval(function(){a()},3e3);$(".banner").mouseover(function(){clearInterval(s),$(".ban_nav a").mouseover(function(){$(this).addClass("current"),t=$(this).index()-1,a()})}),$(".banner").mouseout(function(){s=setInterval(function(){a()},3e3)}),$(".btn_left").click(function(){t-=2,a()}),$(".btn_right").click(function(){a()})}),$(function(){$.ajax({type:"get",url:"https://ju.suning.com/ajax/getCommListForCmsJsonp_LFHFYSY__PC_15_yscb.html",dataType:"jsonp",jsonpCallback:"yscb",async:!0,success:function(t){for(var a=t.commInfoList,e=0;e<a.length;e++){var s=$("<li></li>");s.append('<a href="#">\n\t\t\t\t\t\t\t\t<img src="'+a[e].grppurDetailUrl+'"/>\n\t\t\t\t\t\t\t\t<p class="name">'+a[e].grppurName+'</p>\n\t\t\t\t\t\t\t\t<p class="ju_price">\n\t\t\t\t\t\t\t\t\t<span class="price">\n\t\t\t\t\t\t\t\t\t\t<i>￥</i>\n\t\t\t\t\t\t\t\t\t\t<em>'+a[e].gbPrice+'</em>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<span class="line"></span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t'),$(".ju_ul").append(s)}$(".ju_ul").width(200*a.length)}}),function(){for(var t=0;t<6;t++){var a=$("<li></li>");a.append('\n\t\t\t\t<a href="#">\n\t\t\t\t\t<p>艾因儿童椅</p>\n\t\t\t\t\t<p>382人说好</p>\n\t\t\t\t\t<img src="https://image3.suning.cn/uimg/b2c/qrqm/0000000000000000000141604532_200x200.jpg?ver=2004&from=mobile"/>\n\t\t\t\t\t</a>\n\t\t\t\t'),$(".hh_ul").append(a)}$(".hh_ul li:odd").css("border-right","none")}()}),$(function(){var t=location.search.split("=")[1];$.getJSON("http://datainfo.duapp.com/shopdata/getGoods.php?callback=?",{classID:t},function(t){var e="";$.each(t,function(t,a){e+='<div>\n\t\t\t\t\t<a href="xiangxi.html?id='+a.goodsID+'">\n\t\t\t\t\t<img src="'+a.goodsListImg+'">\n\t\t\t\t\t<p>'+a.goodsName+"</p>\n\t\t\t\t\t<p>￥"+a.price+"</p>\n\t\t\t\t\t</a>\n\t\t\t\t\t</div>"}),$(".listmore").html(e)})});